## 6-5. 데이터베이스 설계

### 1️⃣ ER 다이어그램

> 데이터베이스에 저장되는 엔티티의 구조를 모델링하는 것

- ERD를 통해 데이터베이스의 구조를 명확하게 정의해 두면 추후에 데이터베이스를 확장하거나 수정할 때 어떤 부분이 영향을 받는지 쉽게 파악할 수 있음
- 유지보수가 용이하고 개발자 간 원활한 소통이 가능
- 식별/비식별 관계
  - **식별 관계(indentifying relationship)**: 참조되는 엔티티가 존재해야만 참조하는 엔티티가 존재할 수 있는 관계
  - **비식별 관계(non-identifying relationship)**: 참조되는 엔티티가 존재하지 않아도 참조하는 엔티티가 존재할 수 있는 관계

### 2️⃣ 정규화

> 잠재적인 문제가 발생하지 않도록 테이블의 필드를 구성하고, 필요할 경우 테이블을 나누는 작업

1. 제 1 정규형

> 모든 속성이 원자 값을 가진다는 것

1. 제 2 정규형

> 제 1 정규형을 만족함과 동시에, 기본 키가 아닌 모든 필드들이 모든 기본 키에 완전히 종속될 것

- **부분 함수 종속성(partial functional dependency)**: 기본 키가 아닌 필드가 기본 키의 일부에 종속되어 있는 경우
- **완전 함수 종속성(full functional dependency)**: 기본 키가 아닌 필드가 기본 키 전체에 완전하게 종속되어 있는 경우

1. 제 3 정규형

> 제 2 정규형을 만족하면서, 기본 키가 아닌 모든 필드가 기본 키에 이행적 종속성이 없는 상태

- **이행적 종속 관계(transitive dependency)**: (A→B), (B→C) ⇒ (A → C)

1. 보이스/코드 정규형

> 제 3 정규형을 만족하는 동시에 모든 결정자가 후보 키여야 한다는 조건

- 결정자: 특정 필드를 식별할 수 있는 필드

<img width="598" alt="Image" src="https://github.com/user-attachments/assets/85aca3c3-0bf0-4744-b3a7-13328e7aea99" />

- 역정규화(denormalization): 검색의 속도를 높이기 위해 분할되어 있는 테이블을 하나로 합치는 작업
