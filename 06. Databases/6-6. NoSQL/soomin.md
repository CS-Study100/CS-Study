# 6-6. NoSQL
## ✅RDBMS vs NoSQL
- NoSQL: Not Only SQL
- 높은 부하를 감당하거나 대용량 데이터를 다루는 분산 환경에 적합
- 스케일 아웃(수평적 확장)이 굉장히 용이
- 확장성, 유연성, 가용성, 
- 성능↑ - ACID와 정규화를 엄격히 준수X ⇒ 데이터 무결성과 일관성이 다소 저하

### ▶️키-값 데이터베이스
- ex) Redis, Memcached
- 레코드를 보조기억장치X, 메모리에 저장 ⇒ 인메모리 데이터베이스
  - 빠른 DB 접근 속도를 제공
  - 캐시나 세션 등비교적 가변운 정보를 저장 
### ▶️도큐먼트 데이터베이스
- 문서지향 DB 
- 레코드를 도큐먼트 단위로 저장
  - 도큐먼트: 정형화되어 있지 않은 NoSQL 레코드의 단위 ex) JSON, XML
- MongoDB
  - 하나의 레코드를 JSON 형태의 데이터로 만들어 관리
  - JSON의 키가 필드, JSON 데이터 하나 하나가 RDBMS의 행
  - 유연한 스키마를 가짐
  - 도큐먼트가 모여 컬렉션을 이룸, 컬렉션이 모여 DB를 이룸
### ▶️그래프 데이터베이스
- 데이터를 그래프의 노드 형태로 저장 ex) neo4j
- 데이터 간의 관계성이 중요한 레코드를 저장하기 위해
### ▶️칼럼 패밀리 데이터베이스
- ex) Cassandra, HBase
- 행과 열 개념 존재
- 로우 키를 통해 특정 행을 식별
- 정규화나 조인X, 자유롭게 열 추가O
  - 칼럼 패밀리 - 관련 있는 열들이 모여
  - 키스페이스 - 칼럼 패밀리들을 포괄하는 최상위 단위
  
## ✅다양한 NoSQL
- 빈도 많은 유형
  - 키-값 데이터베이스 - Redis
  - 도큐먼트 데이터베이스 - MongoDB
### ▶️MongoDB
- 도큐먼트(레코드) ⇒ 컬렉션 ⇒ 데이터베이스
- 레코드 삽입
  - 단일
    `db.켤렉션_이름.insertOne({json형태})`
    - ObjectId: 타임스탬프 + 랜덤 값 + 카운터
  - 여러개 한 번에
    `db.켤렉션_이름.insertMany([{json형태}])`
- 레코드 갱신
  - 단일
    `db.켤렉션_이름.updateOne(갱신할 레코드 식별 인자, 갱신할 내용)`
  - 여러개 
    `db.켤렉션_이름.updateMany(갱신할 레코드 식별 인자, 갱신할 내용)`
  - $set / $unset
- 레코드 삭제
  - 단일
    `db.켤렉션_이름.deleteOne(삭제할 필드)`
  - 여러개 
    `db.켤렉션_이름.deleteMany(삭제할 필드)`
- 레코드 확인
  `db.켤렉션_이름.find()`

### ▶️Redis
- 키-값 DB, 인 메모리 DB
- 값으로 활용될 자료구조: 문자열, 리스트, 해시 테이블, 집합 등
- 문자열
  - SET
  - SETNX: SET if Not eXists
  - GET
  - MGET
  - DEL
- 리스트
  - [L/R]PUSH
  - [L/R]POP
  - LRANGE
  - LLEN
