# 02-4. 메모리
## ✅RAM
- RAM - 휘발성 저장장치
실행할 대상을 저장
- 보조기억장치 - 비휘발성 저장장치 
보관할 대상을 저장 

- 임의 접근 (Random Access) or 직접 접근 ↔️ 순차 접근

- RAM의 종류
    
    - DynamicRAM : 저장된 데이터가 점차점차 동적으로 사라지는 
    오늘날 주력 - 소비력 낮고, 저렴, 직접도(오밀조밀) 높아서 메모리 대량 설계 용이
    - StaticRAM : 저장된 데이터가 변화x 
    대용량일 필요는 없지만 속도가 빨라야하는 저장장치에 사용 → **캐시메모리**
    - SynchronousDynamicRAM : 클럭 신호와 동기화된 
    DRAM의 발전된 형태 
    - DoubleDataRate SDRAM
    SDRAM의 발전된 형태 - SDRAM보다 한 번에 2배씩
    DDR → DDR2 → DDR3 → DDR4

<hr>

메모리에 어떻게 데이터 저장?
## ✅메모리에 바이트를 밀어 넣는 순서
### 빅 엔디안과 리틀 엔디안 
- 현대의 한 주소당 저장되는 데이터는 바이트 단위로 저장하고 관리 
- 메모리는 데이터를 CPU로부터 바이트 단위로 받지x
워드 단위로 받음
- 즉, 여러 바이트로 구성된 데이터를 받아들여 여러 주소에 걸쳐 저장 

▶️빅 엔디안(>,MSB) - 낮은 번지의 주소에 **상위** 바이트부터 저장하는 방식  
▶️리틀 엔디안(<,LSB) - 낮은 번지의 주소에 **하위** 바이트부터 저장하는 방식 
🔷MSB(가장 왼쪽 비트)와 LSB(가장 오른쪽 비트) 

<hr>

메모리에 접근하는 속도 어떻게 줄여?
## ✅캐시 메모리
- CPU의 연산 속도와 메모리 접근 속도의 차이를 줄이기 위해 탄생 
- 캐시 메모리는 SRAM 기반으로 구현된 저장장치 
- 하나만x 여러개, CPU 내외부에 존재 
![](https://velog.velcdn.com/images/laughin/post/bc33241c-836a-4519-a065-7c486ea30f01/image.png)

	- 메모리의 크기 L1<L2<L3 순으로 큼
	- 속도 L3<L2<L1 순으로 빠름 

- 멀티코어 프로세서의 경우 
![](https://velog.velcdn.com/images/laughin/post/a065f50b-c928-4bbe-8308-2a28adc032b6/image.png)

	- L1, L2 코어마다 고유한 캐시 메모리로 할당
    - L3는 여러 코어가 공유한 형태

  - 분리형 캐시
      - L1I - 명령어만 저장
      - L1D - 데이터만 저장 

### 캐시 히트와 캐시 미스
- cache hit : 캐시 메모리가 예측하여 저장한 데이터가 CPU에 의해 실제로 사용되는 경우
- cache miss : 틀린 예측으로 인해 CPU가 메모리로부터 필요한 데이터를 직접 가져와야 하는 경우 
- cache 적중률 
캐시 히트 횟수 / (캐시 히트 횟수 + 캐시 미스 횟수)

### 참조 지역성의 원리 
- locality of reference or principle of locality 
	
    - 시간 지역성: CPU는 최근에 접근했던 메모리 공간에 다시 접근하려는 경향 → **변수**
    - 공간 지역성: CPU는 접근한 메모리 공간의 근처에 접근하련느 경향 → **배열**
    
### 캐시 메모리의 쓰기 정책과 일관성 

- 캐시 메모리를 읽는것만 아니라 쓰기도 함 
- 캐시 메모리에 데이터를 쓰는 경우
  - 캐시 메모리에 새롭게 쓰여진 데이터와 메모리 상의 데이터가 읽관성을 유지해야함 

- 캐시 메모리와 메모리 간의 불일치 방지
  - 즉시 쓰기 (write-through) - 동시에 씀 
    - 장: 항상 최신 상태로 유지
    - 단: 데이터 쓸 때마다 메모리 참조 → 시간 늘어남 
  - 지연 쓰기 (write-back) - 캐시에만, 추후 한 번에 메모리에 반영
    - 장: 메모리 접근 횟수 줄음
    - 단: 일관성 깨질 수 있음 

- 다른 코어가 사용하는 캐시 메모리와 불일치 (deep함)

<hr>

‼️캐시 메모리를 사용한다는 것, 나아가 캐싱을 한다는 것 
  - 데이터 접근에 있어 어느 정도의 **빠른 성능**을 보장 
  - 캐싱을 할 때는 언제나 캐시된 데이터와 원본 데이터 간의 **불일치와 데이터 일관성**을 고려 
