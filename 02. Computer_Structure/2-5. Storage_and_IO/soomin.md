# 02-5. 보조기억장치와 입출력장치
# 보조기억장치
- 데이터 안정적으로 저장하기
- 데이터 안정적으로 제공하기 
## ✅RAID
- Redundant Array of Independent Disks 
- 하드 디스크 드라이브
- 플래시 메모리 기반 저장장치 ex)SSD
- 데이터의 안전성 혹은 성능을 확보하기 위해 여러 개의 독립적인 보조기억장치를 마치 하나의 보조기억장치처럼 사용하는 기술 
- RAID를 구성하는 방법 - RAID 레벨

### 가장 자주 사용하는 RAID들
▶️**RAID0**
- 데이터를 여러 보조기억장치에 단순하게 나누어 저장하는 구성 방식 - 스트라이핑
➕ 빠른 입출력 속도
➖ 저장된 정보가 안전하지 않음

▶️**RAID1**
- 완전한 복사본을 만들어 저장하는 구성 방식 - 미러링
➕ 복구가 간단하고 안전성이 높음
➖ 복사본이 저장된 크기만큼 사용 가능한 용량이 적어짐

▶️**RAID4**
- 패리티 정보를 저장하는 디스크를 따로 두는 구성 방식 - 패리티
➕ RAID1에 비해 적은 하드 디스크로 안전하게 데이터를 보관 
➖ 패리티를 저장하는 장치에 병목 현상이 발생 

▶️**RAID5**
- 패리티를 분산하여 저장하는 구성 방식
➕ RAID4의 단점인 병목 현상 보완 

▶️**RAID6**
- 서로 다른 2개의 패리티를 두는 구성 방식 
➕ RAID5에 비해 안전성 ↑
➖ RAID5에 비해 쓰기 속도 느림 

🔷 여러 RAID들 혼합
- RAID10 : 0 + 1
- RAID50 : 0 + 5

<HR>

# 입출력 장치 
## ✅입출력 기법 
### 장치 컨트롤러와 장치 드라이버 
▶️**장치 컨트롤러**
- CPU와 입출력장치 사이의 통신을 중개하는 중개자 역할의 HW
- 모든 입출력장치는 각자의 장치 컨트롤러를 통해 컴퓨터 내부와 연결되어 정보를 교환 
  
▶️**장치 드라이버**
  - 장치 컨트롤러의 동작을 알고, 장치 컨트롤러가 컴퓨터 내부와 정보를 주고받을 수 있도록 하는 프로그램 

  
### 대표기법 3가지 
▶️**프로그램 입출력**
  - 프로그램 속 명령어로 입출력 작업을 수행하는 방법 
  - 고립형 입출력 (메모리 | 입출력 - 주소 공간 분리)
  - 메모리 맵 입출력 (메모리 + 입출력 - 주소 공간 분리x)
  
▶️**인터럽트 기반 입출력: 다중 인터럽트**
  - 인터럽트가 여러 입출력장치로부터 동시다발적으로 발생하는 경우의 인터럽트 처리 
  - 인터럽트 중에서도 우선순위가 더 높은 인터럽트가 우선적으로 처리되는 경우가 일반적 
  - 우선순위 어떻게 판단? **PIC**
  Programmable Interrupt Controller
    - 다중 인터럽트를 처리하기 위해 사용되는 HW
    - PIC 각각의 핀에는 CPU에게 HW 인터럽트 요청을 보낼 수 있도록 약속된 HW가 연결 
  
▶️**DMA 입출력**
  - 프로그램 기반의 입출력과 인터럽트 기반의 입출력에 **공통점**? 
    **CPU**가 입출력장치와 메모리 간의 데이터 이동을 주도해야 하며, 이동하는 데이터들도 반드시 **CPU**를 거침 
  - Direct Memory Access
  **CPU를 거치지 않고** 입출력장치와 메모리가 상호작용할 수 있는 입출력 방식
    - DMA 컨트롤러 HW가 필수적
  	  - 시스템 버스에 연결
      - 입출력장치들의 장치 컨트롤러들은 입출력 버스와 연결  
  - DMA 입출력 과정 
    1. CPU가 DMA 컨트롤러에게 입출력 작업을 명령
    2. DMA 컨트롤러가 입출력 작업을 수행, CPU 거치치X
    3. 작업이 끝나면 CPU에게 인터럽트를 통해 작업이 끝났음을 알림 
  - CPU 입장에서는 DMA 컨트롤러에게 입출력 작업 명령을 내리고, 인터럽트만 받으면 되기 때문에 입출력 부담을 크게 줄일 수 있음 
  
- 🔷사이클 스틸링 
  DMA 컨트롤러가 시스템 버스를 사용하는 양상을 나타내는 단어

▶️PCIe
  - Peripheral Component Interconnect express
  - PCI라는 입출력 버스의 발전된 형태 
  - 오늘날의 메인 보드에서 가장 대중적으로 볼 수 있는 입출력 버스 중 하나 
  
  - PCIe와 연결된 장치의 성능 
    - 버전에 따라 최대 속도가 달라짐
    - 여러 레인을 이용해 정보를 주고받음 
