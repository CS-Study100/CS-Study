# 5-5. 응용 계층 - HTTP의 기초

# DNS와 URI/URL

## ✅ 도메인 네임과 DNS
- 네트워크에서 호스트를 식별할 때 IP 주소 사용
- 하지만 IP 주소만으로 특정 호스트를 알기 어렵고, 변경될 수 있음
- **도메인 네임**: 사람이 이해하기 쉬운 문자열 형태의 호스트 식별 정보
- **DNS 서버**: 도메인 네임과 IP 주소를 매핑하여 관리
- **리졸빙(Resolving)**: 도메인 네임을 IP 주소로 변환하는 과정
- **도메인 네임 시스템(DNS)**: 계층적 네임 서버 구조로 도메인 관리
- **로컬 네임 서버**를 통해 도메인 질의 가능
- ISP에서 제공하는 공개 DNS 서버 이용 가능

## ✅ 자원과 URI/URL
- **URI(Uniform Resource Identifier)**: 웹 상의 자원을 식별하는 정보
  - **URN(Uniform Resource Name)**: 이름 기반 자원 식별
  - **URL(Uniform Resource Locator)**: 위치 기반 자원 식별 (주로 사용됨)
- **URL의 구성 요소**
  1. **scheme**: 사용 프로토콜 (예: `https`)
  2. **authority**: 호스트 정보 (도메인 네임 또는 IP 주소)
  3. **path**: 자원의 경로
  4. **query**: 매개변수 (`?키=값&키=값`)
  5. **fragment**: 문서 내 특정 위치 (`#section`)

# HTTP의 특징과 메시지 구조

## ✅ HTTP의 특징
### 1️. 요청-응답 기반 프로토콜
### 2️. 미디어 독립적 프로토콜
- **미디어 타입(MIME 타입)**: HTTP를 통해 전송되는 자원의 유형
- 형식: `타입/서브타입` (예: `text/html`)
### 3️. 스테이트리스(Stateless) 프로토콜
- 서버는 클라이언트의 상태를 저장하지 않음
- 확장성 증가, 서버 부담 감소
### 4. 지속 연결 지원
- **Keep-Alive**: 하나의 TCP 연결에서 여러 요청-응답 처리 가능

## ✅ HTTP 버전별 특징
- **HTTP 1.1**: 평문 기반, 현재까지 널리 사용됨
- **HTTP 2.0**: 바이너리 전송, 헤더 압축, 서버 푸시, 멀티플렉싱 지원
- **HTTP 3.0**: **UDP 기반 QUIC 프로토콜**로 성능 개선

## ✅ HTTP 메시지 구조
- **시작 라인**: 요청 또는 응답 구분
  - **요청 라인**: `메서드 | 요청 대상 | HTTP 버전`
  - **상태 라인**: `HTTP 버전 | 상태 코드 | 이유 구문`
- **헤더 필드**: HTTP 헤더 포함 (0개 이상)
- **본문**: 선택적 데이터 (응답 본문 포함 가능)

# HTTP 메서드와 상태 코드

## ✅HTTP 메서드
### GET과 HEAD
- **GET**: 자원 요청 (응답 본문 포함)
- **HEAD**: GET과 동일하나, **헤더만 반환**
### POST
- 서버에 **새로운 자원 생성** 요청
- 응답 헤더 `Location`: 생성된 자원의 위치 포함
### PUT과 PATCH
- **PUT**: 자원 **전체 수정**
- **PATCH**: 자원의 **부분 수정**
### DELETE
- 자원 삭제 요청

## ✅ HTTP 상태 코드
- **1xx (정보)**: 요청 진행 중
- **2xx (성공)**: 요청 성공
- **3xx (리다이렉션)**: 요청한 자원이 이동됨
  - **301/308 (영구 이동)**: 기존 URL 변경 필요 없음
  - **302/303/307 (임시 이동)**: 기존 URL 유지 가능
- **4xx (클라이언트 오류)**
  - `401`: 인증(Authentication) 필요
  - `403`: 권한(Authorization) 없음
- **5xx (서버 오류)**
  - `500`: 서버 내부 오류
  - `502`: 중간 서버 통신 오류

# HTTP 주요 헤더

## 요청 헤더
- **Host**: 요청을 보낼 호스트 지정
- **User-Agent**: 요청을 보내는 클라이언트 정보
- **Referer**: 이전 방문 URL

##  응답 헤더
- **Server**: 서버 정보 제공
- **Allow**: 허용하는 HTTP 메서드 목록
- **Location**: 리다이렉션 시 새로운 자원 위치 지정

##  공통 헤더 (요청 & 응답)
- **Date**: 메시지 생성 시간
- **Content-Length**: 본문 크기 (바이트 단위)
- **Content-Type**: 본문의 미디어 타입
- **Content-Language**: 본문 언어 (`ko-KR` 등)
- **Content-Encoding**: 본문 압축/변환 방식
- **Connection**: 연결 유지 여부 (`keep-alive`, `close` 등)
