# 5-6. 응용 계층 - HTTP의 응용

## ✅ 쿠키
- **HTTP는 스테이트리스**: 각 요청은 독립적인 메시지로 처리됨.
- **쿠키**: 클라이언트의 상태를 유지하기 위해 서버에서 생성되어 클라이언트에 저장되는 데이터.
  - 예시: '3일간 보지 않기' 기능.
- **구성**: 쿠키는 이름과 값의 쌍으로 저장됨.
- **서버 → 클라이언트**: 응답에서 `Set-Cookie: 이름=값; 속성1; 속성2` 형태로 전달됨.
  - 주요 속성:
    - `domain & path`: 특정 도메인과 경로에서만 쿠키가 전송됨.
    - `Secure`: HTTPS를 통해서만 쿠키를 전송.
    - `HttpOnly`: 자바스크립트를 통한 쿠키 접근 차단.
- **서버 ← 클라이언트**: 요청에서 `Cookie: 이름=값; 이름=값;` 형태로 전달됨. 서버에서 받은 쿠키는 이후 요청 시 자동으로 포함됨.

### 웹 스토리지: 로컬 스토리지와 세션 스토리지
- 쿠키 외에도 **웹 스토리지**로 클라이언트 상태를 관리할 수 있음.
- **로컬 스토리지**: 브라우저가 종료되지 않는 한 데이터는 영구적으로 저장됨.
- **세션 스토리지**: 브라우저가 열려 있는 동안만 유지됨.
- **차이점**:
  - 쿠키는 서버로 자동 전송되는 반면, 웹 스토리지는 서버로 전송되지 않음.
  - 웹 스토리지는 더 많은 데이터를 저장할 수 있음.

## ✅ 캐시
- **캐시**: 서버에서 받은 자원의 사본을 클라이언트나 중간 서버에 저장하여 대역폭 절약과 응답 속도 향상을 도모.
  - **클라이언트 캐시**: 개인용 캐시.
  - **공용 캐시**: 중간 서버에 저장된 캐시.
  - **유효 기간 설정**:
    - `Expires`: 자원의 만료 날짜 설정.
    - `Cache-Control: max-age`: 자원이 유효한 시간(초) 설정.
- **캐시 신선도**: 캐시된 자원과 서버 원본의 차이 정도.
- **질의 방법**:
  - **날짜 기반** (`If-Modified-Since`): 자원의 최신 변경 여부를 확인.
    - 변경된 경우: 200 OK와 새로운 자원 제공.
    - 변경되지 않으면: 304 Not Modified와 함께 마지막 수정 시간을 알려줌.
  - **엔티티 태그(Etag)**: 자원의 버전 관리.
    - 자원 변경 시 Etag 값이 변경되며, 변경되지 않으면 동일하게 유지됨.
    - `If-None-Match`: 요청 시 명시한 Etag 값과 서버의 Etag 값을 비교하여 변경된 자원만 응답.

## ✅ 보안: SSL/TLS와 HTTPS
- **HTTPS**: HTTP에 SSL 또는 TLS 보안 프로토콜이 추가된 버전.
- **TLS**(Transport Layer Security): SSL을 대체하는 보안 프로토콜.
  - **TLS 1.3 기반 HTTPS 송수신 단계**:
    1. TCP 쓰리 웨이 핸드셰이크.
    2. **TLS 핸드셰이크**: 암호화 키 생성 및 교환.
    3. 메시지 송수신.
- **TLS 핸드셰이크**:
  - 암호화된 통신을 위한 키 생성 및 교환 과정.
  - **암호 스위트**: 암호화 알고리즘과 해시 함수 종류.
  - **인증서**: 상대방의 신원을 보증하는 인증서 송수신 및 검증.
    - **CA**(인증 기관): 인증서 발급 및 검증을 담당하는 제 3의 기관.
